<% if (listingAddedMessage && listingAddedMessage.length) { %>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  .custom-alert {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: #fff;
    border: none;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    animation: fadeIn 0.5s ease-in-out;
    padding: 14px 18px;
    position: relative;
    overflow: hidden;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Timer Bar */
  .timer-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 4px;
    background: rgba(255,255,255,0.9);
    width: 100%;
    animation: shrinkBar 4s linear forwards;
  }

  @keyframes shrinkBar {
    from { width: 100%; }
    to { width: 0%; }
  }

  /* Fade-out animation */
  .fade-out {
    animation: fadeOutEffect 0.6s forwards;
  }

  @keyframes fadeOutEffect {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-10px); }
  }

  .icon {
    font-size: 1.5rem;
    margin-right: 10px;
  }
</style>

<div id="successAlert" class="alert custom-alert d-flex align-items-center justify-content-between col-6 offset-3 mt-4" role="alert">

  <!-- Left side -->
  <div class="d-flex align-items-center">
    <i class="bi bi-check-circle-fill icon"></i>
    <div><%= listingAddedMessage %></div>
  </div>

  <!-- Close Button -->
  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"></button>

  <!-- Timer Bar -->
  <div class="timer-bar"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<script>
  // Auto dismiss after 4 seconds
  setTimeout(() => {
    const el = document.getElementById("successAlert");
    if (el) {
      el.classList.add("fade-out");
      setTimeout(() => el.remove(), 600); // remove after fade animation
    }
  }, 4000);
</script>

<% } %>

<% if (listingNotExists && listingNotExists.length) { %>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  .error-alert {
    background: linear-gradient(135deg, #dc3545, #ff6b6b);
    color: #fff;
    border: none;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.15);
    animation: fadeIn 0.5s ease-in-out;
    padding: 14px 18px;
    position: relative;
    overflow: hidden;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .timer-bar-error {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 4px;
    background: rgba(255,255,255,0.9);
    width: 100%;
    animation: shrinkBar 4s linear forwards;
  }

  @keyframes shrinkBar {
    from { width: 100%; }
    to { width: 0%; }
  }

  .fade-out {
    animation: fadeOutEffect 0.6s forwards;
  }

  @keyframes fadeOutEffect {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-10px); }
  }

  .icon {
    font-size: 1.5rem;
    margin-right: 10px;
  }
</style>

<div id="errorAlert"
  class="alert error-alert d-flex align-items-center justify-content-between col-6 offset-3 mt-4">

  <div class="d-flex align-items-center">
    <i class="bi bi-x-circle-fill icon"></i>
    <div><%= listingNotExists %></div>
  </div>

  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"></button>

  <div class="timer-bar-error"></div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  setTimeout(() => {
    const el = document.getElementById("errorAlert");
    if (el) {
      el.classList.add("fade-out");
      setTimeout(() => el.remove(), 600);
    }
  }, 4000);
</script>

<% } %>


